{% extends "base.html" %}

{% block style %}
<link href='annonce.css' type='text/css' rel='stylesheet' />
{% endblock %}

{% block title %}
  <title>Annonce</title>
{% endblock %}
  
{% block body %}
<body>
   <div id="carouselExampleInterval" class="carousel slide" data-ride="carousel">
   <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="../sitevitrine/imagesAnnonce/{{images.first.nom}}" class="d-block w-100" alt="pas encore de photos pour cette annonce"/>
    </div> 
    {% for image in images %} 
     <div class="carousel-item">
      <img src="../sitevitrine/imagesAnnonce/{{image.nom}}" class="d-block w-100" alt="Pas encore de photos pour cette annonce"/>
    </div> 
    {% endfor %}
  </div>
  <a class="carousel-control-prev" href="#carouselExampleInterval" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Précédent</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleInterval" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Suivant</span>
  </a>
</div>
  
  
<div class="card" style="width: 100%;">
  <div class="card-body">
    <h5 class="card-title">{{ annonce.titre }}</h5>
    <p class="card-text">{{ annonce.description }}</p>
    <p class="card-text">{{ annonce.prix ~ '€' }}</p>
    
   
    <p class="card-text">{{ '- Type de propriété : ' ~ annonce.typePropriete }}</p>
    <p class="card-text">{{ '- Surface de l\'habitation : ' ~ annonce.surface ~ 'm²' }}</p>
    <p class="card-text">{{ '- Surface totale de la propriété : ' ~ annonce.surfaceTotal ~ 'm²'  }}</p>
<!--     <p class="card-text">{{ annonce.typeContrat }}</p> -->
      {% if annonce.typeAppartement != 'null' %}
        <p class="card-text">{{ '- Type d\'appartement : ' ~ annonce.typeAppartement }}</p>
      {% endif %}
      {% if annonce.ameublement != 'null' %}
       <p class="card-text">- Cet appartement est loué meublé</p>
      {% endif %}
      {% if annonce.ameublement == 'null' %}
        <p class="card-text">- Cet appartement est loué non-meublé</p>
      {% endif %}
      {% if annonce.etage != 'null' %}
        <p class="card-text">{{ '- Appartement situé a l\'étage numéro : ' ~ annonce.etage }}</p>
      {% endif %}
        <p class="card-text">{{ '- Nombre total de piéces : ' ~ annonce.nombrePieces }}</p>
      {% if annonce.nombreSalleBain != '0' %}
        <p class="card-text">{{ '- Nombre de salle de bain : ' ~ annonce.nombreSalleBain }}</p>
      {% endif %}
      {% if annonce.nombreSalleEau != '0' %}
        <p class="card-text">{{ '- Nombre de salle d\'eau : ' ~ annonce.nombreSalleEau }}</p>
      {% endif %}
        <p class="card-text">{{ '- Nombre de chambre : ' ~ annonce.nombreChambre }}</p>
        <div class="d-flex flex-row">
      {% if annonce.piscine != null or annonce.jacuzzi != null or annonce.ascenseur != null or annonce.salle_sport != null or annonce.place_parking != null %}
        <p>- Installations particuliére(s) : </p>
      {% endif %}
      {% if annonce.piscine != null %}
        <p class="card-text paddingLeft">Piscine</p>
      {% endif %}
      {% if annonce.jacuzzi != null %}
        <p class="card-text paddingLeft">Jacuzzi</p>
      {% endif %}
      {% if annonce.ascenseur != null %}
        <p class="card-text paddingLeft">Ascenseur</p>
      {% endif %}
      {% if annonce.salle_sport != null %}
        <p class="card-text paddingLeft">Salle de sport</p>
      {% endif %}
      {% if annonce.place_parking != null %}
        <p class="card-text paddingLeft">Place de parking</p>
      {% endif %}
    </div>
    <p class="card-text">{{ '- Le bien est disponible à partir du : ' ~ annonce.date_disponible|date('d/m/Y') }}</p>
    <div class="d-flex flex-row mb-3">
      <a href="{{ path }}?c=annonce&t=contactAnnonce&annonceID={{ annonce.id }}" class="p-2 btn btn-outline-secondary">Demande de visite</a>
      <p class="card-text p-2 ml-auto"><small class="text-muted">publié le : {{ annonce.date_publication|date('d/m/Y') }}</small></p>
    </div>
  </div>
</div>
</body>
{% endblock %}